# 「即時路況資料標準2.0」內容檢視

## VD、CCTV、CMS、eTag 路側設施靜態資料

* Input

  (1)坐標
  
    * PositionLon

    * PositionLat
    
  (2)公路編號/方向/里程
  
    * 如：國道1號/順向/15.3k

* Link相關欄位

  * LinkID

  * Bearing

  * RoadDirection

  * RoadID

  * RoadName

  * RoadClass

## AVI、eTag配對路徑靜態資料

* Input

  (1)起點坐標
  
    * PositionLon1

    * PositionLat1
  
  (2)迄點坐標
  
    * PositionLon2

    * PositionLat2

* Link相關欄位

  * LinkID

  * Geometry


# 基礎路段編碼內容

## 基礎路段編碼原則

* 一般路段：

  * 分向不分道
  
  ＊單行道：雙向編碼，惟status：不啟用。

* 虛擬線段：

  * 不具實質意義，不編碼

## 基礎路段編碼內容

## RoadID/RoadNameID/LinkID關係

* LinkID = 基礎路段代碼
* RoadID = 道路代碼

  * 公路(含市快)：RoadClass (1碼) + RoadNameID (5碼)
  
  * 市區道路：RoadClass (1碼) + RoadNameID (5碼) + CityID (1碼)
  
# 路段編碼查詢

## 系統功能

* 路段編碼查詢：分為主題查詢與地圖查詢，適合一般使用者查詢指定路段編碼。

* API引用：主要提供程式開發者查找特定或大批資料之需求者設計。使用者可透過API查詢方式，取得所需的路段編碼結果。

* 資料下載：各式說明文件：如編碼原則、編碼規範、操作說明文件與路名表…等資料。

* 線上通報：路段未編碼、分段不符需求、其它使用問題…通報。

* LinkID導入工具：如各機關或業者需引入LinkID與設施/設備進行對應，可透過本工具進行相關作業。

## 地圖查詢

* 使用者可快速透過地圖了解目前編碼狀況，資訊內容包含道路編碼、道路分類、道路名稱、路段方位…等，且可透過圖層顯示或隱藏指定的等級道路、設備或地標種類。

## 主題查詢

* 提供使用者快速查詢特定主題的路段資訊使用，當使用者明確了解自身之需求時可透過不同選單進行快速篩選，並以圖文對照的方式產出相對應之路段編碼、道路名稱、道路分類、路段方位等資料。


# Link API 引用說明

## API -OData說明

* API採用開放式資料協定（Open Data Protocol，簡稱OData）以REST原則，允許使用者透過HTTP方式存取資料，並能根據資料的模型進而查詢與更新。

## Link API

* BasicAPI:基礎資料

  * 查詢：縣市列表、鄉鎮列表…等。

* RoadClassAPI:道路分類基礎資料

  * 查詢：道路分類列表。

* RoadNameAPI:道路(名稱)基礎資料

  * 查詢：道路(名稱)基礎資料。
  
  * 透過：道路名稱、道路分類、指定縣市與名稱等方式篩選出符合條件之資料。

* LinkAPI:路段基礎資料

  * 提供使用者查詢路段基礎資料，並可透過：道路名稱、道路分類、指定縣市與名稱等。

* GeoLocatingAPI:地理坐標定位

  * 提供使用者根據坐標位置查詢範圍內或最近距離之路段基礎資料。
  
  * 可進一步透過：指定道路分類、指定道路方向等方式篩選出符合條件之資料。

* ShapeAPI:路段線型資料

  * 提供使用者查詢路段線型軌跡坐標，提供Geojson、WKT格式資料。

## 各式基本資料

## 案例操作

* BasicAPI:基礎資料

  * 取得各縣市 「CityID」與 「CityCode」 參數。

* RoadNameAPI:道路(名稱)基礎資料

  * 取得「中正路」的道路基礎資料。

  * 取得「Road ID= 000010 (國道1號)」的所有道路基礎資料。

* LinkAPI:路段基礎資料

  * 取得「國道1號/順向」的所有路段基礎資料。
  
  * 取得「國道1號/內湖交流道-桃園交流道」的所有路段基礎資料

  * 取得「台61線/順向/20~30公里」的所有路段基礎資料。
  
  * 取得「台61線/順向/20公里處」的路段基礎資料。
  
  * 取得「台中市/中山路三段」的所有路段基礎資料。

* GeoLocatingAPI:地理坐標定位

  * 取得「坐標(121.515497, 25.076637)/範圍300公尺」內所有路段基礎資料。
  
  * 取得「坐標(121.515497, 25.076637)/最近距離」的道路路段編碼。
  
  * 取得「坐標(121.515497, 25.076637)/最近距離/北」的道路路段編碼。
  
  * 註：「坐標」位置易有定位偏誤，故僅提併單點範圍對應建議。

* ShapeAPI:路段線型資料

  * 取得「LinkID為3000220100159A/WKT」的路段線型軌跡坐標。
  
  * 註：用於路段績效展示時，請採用展示圖資線型軌跡API (未來開發)。
  
# 資料下載

## 資料下載區

* 資料下載區可隨時下載所需檔案，當資料更新時，上架日期亦將隨之更新。

# 線上通報說明

## 線上通報

* 本系統提供線上通報服務，主要針對實務運作上，可能會因為道路業管單位新增道路，或者必要原因進行編碼。當有此一情境發生時，即可利用本介面進行資訊通報。

# LinkID導入工具

## 工具說明

* 本系統為輔助使用者導入路段編碼資料，共開發方位角工具、單路段選擇工具、多路段選取工具，共以上三項。

* 方位角工具

  * 供僅需導入設備方位角位置之設備使用，如公車站牌…等。
  
  * 輸入欄位：經度、緯度坐標。
  
  * 輸出欄位：Bearing。

* 單路段選擇工具

  * 供僅需導入路段方位角、LinkID、RoadID…等資料設備使用，如VD、CCTV…等。
  
  * 輸入欄位：經度、緯度坐標。
  
  * 輸出欄位：Bearing、LinkID、RoadID、RoadName、RoadClass、RoadDirection。

* 多路段選取工具

  * 供需導入路徑(連續路段)之方位角、LinkID、RoadID…等資料設備使用，如ETC…等。
  
  * 輸入欄位：經度、緯度坐標。
  
  * 輸出欄位：Bearing、LinkID、RoadID、RoadName、RoadClass、RoadDirection。
  
  
